<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>How to use Transkribus to transcribe Tibetan pecha(pering) effectively? | Kaldan’s Blog</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="How to use Transkribus to transcribe Tibetan pecha(pering) effectively?" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Handwritten Text Recognition in Tibetan manuscript using Transkribus." />
<meta property="og:description" content="Handwritten Text Recognition in Tibetan manuscript using Transkribus." />
<link rel="canonical" href="https://kaldan007.github.io/blog/markdown/esukhia/2020/07/22/Transkribus.html" />
<meta property="og:url" content="https://kaldan007.github.io/blog/markdown/esukhia/2020/07/22/Transkribus.html" />
<meta property="og:site_name" content="Kaldan’s Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-07-22T00:00:00-05:00" />
<script type="application/ld+json">
{"description":"Handwritten Text Recognition in Tibetan manuscript using Transkribus.","@type":"BlogPosting","headline":"How to use Transkribus to transcribe Tibetan pecha(pering) effectively?","dateModified":"2020-07-22T00:00:00-05:00","datePublished":"2020-07-22T00:00:00-05:00","url":"https://kaldan007.github.io/blog/markdown/esukhia/2020/07/22/Transkribus.html","mainEntityOfPage":{"@type":"WebPage","@id":"https://kaldan007.github.io/blog/markdown/esukhia/2020/07/22/Transkribus.html"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/blog/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://kaldan007.github.io/blog/feed.xml" title="Kaldan's Blog" /><link rel="shortcut icon" type="image/x-icon" href="/blog/images/favicon.ico"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>How to use Transkribus to transcribe Tibetan pecha(pering) effectively? | Kaldan’s Blog</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="How to use Transkribus to transcribe Tibetan pecha(pering) effectively?" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Handwritten Text Recognition in Tibetan manuscript using Transkribus." />
<meta property="og:description" content="Handwritten Text Recognition in Tibetan manuscript using Transkribus." />
<link rel="canonical" href="https://kaldan007.github.io/blog/markdown/esukhia/2020/07/22/Transkribus.html" />
<meta property="og:url" content="https://kaldan007.github.io/blog/markdown/esukhia/2020/07/22/Transkribus.html" />
<meta property="og:site_name" content="Kaldan’s Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-07-22T00:00:00-05:00" />
<script type="application/ld+json">
{"description":"Handwritten Text Recognition in Tibetan manuscript using Transkribus.","@type":"BlogPosting","headline":"How to use Transkribus to transcribe Tibetan pecha(pering) effectively?","dateModified":"2020-07-22T00:00:00-05:00","datePublished":"2020-07-22T00:00:00-05:00","url":"https://kaldan007.github.io/blog/markdown/esukhia/2020/07/22/Transkribus.html","mainEntityOfPage":{"@type":"WebPage","@id":"https://kaldan007.github.io/blog/markdown/esukhia/2020/07/22/Transkribus.html"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

<link href="https://unpkg.com/@primer/css/dist/primer.css" rel="stylesheet" />
<link rel="stylesheet" href="//use.fontawesome.com/releases/v5.0.7/css/all.css"><link type="application/atom+xml" rel="alternate" href="https://kaldan007.github.io/blog/feed.xml" title="Kaldan's Blog" />

<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head><body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/blog/">Kaldan&#39;s Blog</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/blog/about/">About Me</a><a class="page-link" href="/blog/search/">Search</a><a class="page-link" href="/blog/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">How to use Transkribus to transcribe Tibetan pecha(pering) effectively?</h1><p class="page-description">Handwritten Text Recognition in Tibetan manuscript using Transkribus.</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2020-07-22T00:00:00-05:00" itemprop="datePublished">
        Jul 22, 2020
      </time>
       • <span class="read-time" title="Estimated read time">
    
    
      3 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/blog/categories/#markdown">markdown</a>
        &nbsp;
      
        <a class="category-tags-link" href="/blog/categories/#Esukhia">Esukhia</a>
        
      
      </p>
    

    </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul class="section-nav">
<li class="toc-entry toc-h2"><a href="#what-is-transkribus">What is Transkribus?</a></li>
<li class="toc-entry toc-h2"><a href="#our-use-case">Our Use case</a></li>
<li class="toc-entry toc-h2"><a href="#block-diagram">Block diagram</a></li>
<li class="toc-entry toc-h2"><a href="#training-data-collection">Training data collection</a>
<ul>
<li class="toc-entry toc-h3"><a href="#layout-annalysis">Layout annalysis</a>
<ul>
<li class="toc-entry toc-h4"><a href="#what-we-tried">What we tried:</a></li>
<li class="toc-entry toc-h4"><a href="#our-solution">Our Solution:</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#transcript">Transcript</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#model-training">Model Training</a></li>
<li class="toc-entry toc-h2"><a href="#transcripting-using-model">Transcripting using Model</a></li>
<li class="toc-entry toc-h2"><a href="#post-processing-the-model-output">Post Processing the Model output</a></li>
</ul><h2 id="what-is-transkribus">
<a class="anchor" href="#what-is-transkribus" aria-hidden="true"><span class="octicon octicon-link"></span></a>What is Transkribus?</h2>
<p>Transkribus is a software deticated for transcripting text from handwritten or printed old manuscript’s images. It enable users to train dedicated model for recognising text in manuscripts. Shout out to H2020 Project READ<a href="https://read.transkribus.eu/">(Recognition and Enrichment of Archival Documents)</a> for funding the transkribus project. To know more about transkribus project itself and explore more about the use case, you can refer transkribus webpage <a href="https://transkribus.eu/wiki/images/7/77/How_to_use_TRANSKRIBUS_-_10_steps.pdf">here</a>. I will be assuming that you have pretty good idea about how does transkribus work.</p>

<h2 id="our-use-case">
<a class="anchor" href="#our-use-case" aria-hidden="true"><span class="octicon octicon-link"></span></a>Our Use case</h2>
<p>In our case, we have plenty of rare and old manuscripts waiting for digitisation. Most of our manuscript are in pering layout format. Pering is the most common pecha(manusript) layout format found in early days. An example of pering layout page is shown below.(image_link) We faced many challanges while trying to transcripting those pechas using transkribus in normal way. We figured out that we can do some interference to get better results. Hence this article is about what kind of interference that we have done in order to get better model and better transcription.</p>
<h2 id="block-diagram">
<a class="anchor" href="#block-diagram" aria-hidden="true"><span class="octicon octicon-link"></span></a>Block diagram</h2>
<p>Here is the block diagram of the whole procedure that we follow.</p>

<p><img src="/blog/images/transkribus/block_diagram.png" alt="" title="Block diagram"></p>

<h2 id="training-data-collection">
<a class="anchor" href="#training-data-collection" aria-hidden="true"><span class="octicon octicon-link"></span></a>Training data collection</h2>
<p>Since most of our pechas are in distinct handwriting, we always try to train dedicated model for each pecha to get better transcription. We always train our models with training and validation data of ratio 8:2. While collecting training and validation data for the model, we tends to divide the process into two main parts. Those are layout analysis and getting respective trasncription.</p>

<h3 id="layout-annalysis">
<a class="anchor" href="#layout-annalysis" aria-hidden="true"><span class="octicon octicon-link"></span></a>Layout annalysis</h3>
<p>It is the part where segmentation of lines in image take place. Transkribus has multiple ways of doing the task design specifically for some general manuscripts layout. We tried mutliple layout analysis models among which newspaper model out perform the rest in our case. Hence we choosed it. But still newspaper model dosen’t produce perfect layout analysis. In order to get better layout analysis, we have written a  script to tune layout analysis as per our requirement.</p>

<h4 id="what-we-tried">
<a class="anchor" href="#what-we-tried" aria-hidden="true"><span class="octicon octicon-link"></span></a>What we tried:</h4>
<ul>
  <li>
    <p>We ran existing models without adjustment. Since our segmentation is inaqurate, hence our recognitions results turnout to be noisy and disordered borderlines are considered as text.</p>
  </li>
  <li>
    <p>We ran newspaper LA model and try to correct manually. It was a failure as the method was very time and labour expensive(1-2 hr. per page).</p>
  </li>
  <li>
    <p>We traced detailed boxes from scratch thinking that LA model will learn from our traced images. Unfortunately, it didn’t and whole afford became in vien.</p>
  </li>
</ul>

<h4 id="our-solution">
<a class="anchor" href="#our-solution" aria-hidden="true"><span class="octicon octicon-link"></span></a>Our Solution:</h4>
<ul>
  <li>First we ran <strong>Newspaper Layout Analysis</strong> on our images.</li>
  <li>We download the resultant files in Traskribus format.</li>
  <li>In transkribus file format, we ran our script on <strong>Page</strong> folder.</li>
  <li>Our script will bring all the lines into order, remove noise and unify broken segments of a line into one segment.</li>
  <li>We upload the updated <strong>Page</strong> folder along with image files and meta data files to the respective Transkribus Collection.</li>
  <li>We ran our HTR model on that file.</li>
  <li>After that we download the resultant file.</li>
  <li>Resultant file goes under a post processing script which reorder alignment whereever needed. A segment is consider noise if length of text in a segment is less than a threshold. Noise segments are ignored in order to get better result.</li>
</ul>

<h3 id="transcript">
<a class="anchor" href="#transcript" aria-hidden="true"><span class="octicon octicon-link"></span></a>Transcript</h3>
<h2 id="model-training">
<a class="anchor" href="#model-training" aria-hidden="true"><span class="octicon octicon-link"></span></a>Model Training</h2>
<h2 id="transcripting-using-model">
<a class="anchor" href="#transcripting-using-model" aria-hidden="true"><span class="octicon octicon-link"></span></a>Transcripting using Model</h2>
<h2 id="post-processing-the-model-output">
<a class="anchor" href="#post-processing-the-model-output" aria-hidden="true"><span class="octicon octicon-link"></span></a>Post Processing the Model output</h2>

  </div><a class="u-url" href="/blog/markdown/esukhia/2020/07/22/Transkribus.html" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/blog/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/blog/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/blog/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>An easy to use blogging platform with support for Jupyter Notebooks.</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/kaldan007" title="kaldan007"><svg class="svg-icon grey"><use xlink:href="/blog/assets/minima-social-icons.svg#github"></use></svg></a></li><li><a rel="me" href="https://twitter.com/fastdotai" title="fastdotai"><svg class="svg-icon grey"><use xlink:href="/blog/assets/minima-social-icons.svg#twitter"></use></svg></a></li></ul>
</div>

  </div>

</footer>
</body>

</html>
